<html lang="vi">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mountain Harvest - Tinh Hoa Nông Sản &amp; Nhu Yếu Phẩm</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@300;400;600;700&family=Playfair+Display:wght@700&display=swap');

    body {
      font-family: 'Nunito Sans', sans-serif;
    }

    h1,
    h2,
    h3,
    h4 {
      font-family: 'Playfair Display', serif;
    }

    /* Custom Scrollbar for dropdowns */
    .custom-scrollbar::-webkit-scrollbar {
      width: 4px;
    }

    .custom-scrollbar::-webkit-scrollbar-track {
      background: #f1f1f1;
    }

    .custom-scrollbar::-webkit-scrollbar-thumb {
      background: #888;
      border-radius: 4px;
    }
  </style>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            brand: {
              green: '#2F5233',
              darkGreen: '#1a331d',
              light: '#76885B',
              brown: '#8B5A2B',
              cream: '#F1F0E8',
              orange: '#E85D04' // Màu nhấn cho nút mua hàng/Sale
            }
          }
        }
      }
    }
  </script>
  <style>
    *,
    ::before,
    ::after {
      --tw-border-spacing-x: 0;
      --tw-border-spacing-y: 0;
      --tw-translate-x: 0;
      --tw-translate-y: 0;
      --tw-rotate: 0;
      --tw-skew-x: 0;
      --tw-skew-y: 0;
      --tw-scale-x: 1;
      --tw-scale-y: 1;
      --tw-pan-x: ;
      --tw-pan-y: ;
      --tw-pinch-zoom: ;
      --tw-scroll-snap-strictness: proximity;
      --tw-gradient-from-position: ;
      --tw-gradient-via-position: ;
      --tw-gradient-to-position: ;
      --tw-ordinal: ;
      --tw-slashed-zero: ;
      --tw-numeric-figure: ;
      --tw-numeric-spacing: ;
      --tw-numeric-fraction: ;
      --tw-ring-inset: ;
      --tw-ring-offset-width: 0px;
      --tw-ring-offset-color: #fff;
      --tw-ring-color: rgb(59 130 246 / 0.5);
      --tw-ring-offset-shadow: 0 0 #0000;
      --tw-ring-shadow: 0 0 #0000;
      --tw-shadow: 0 0 #0000;
      --tw-shadow-colored: 0 0 #0000;
      --tw-blur: ;
      --tw-brightness: ;
      --tw-contrast: ;
      --tw-grayscale: ;
      --tw-hue-rotate: ;
      --tw-invert: ;
      --tw-saturate: ;
      --tw-sepia: ;
      --tw-drop-shadow: ;
      --tw-backdrop-blur: ;
      --tw-backdrop-brightness: ;
      --tw-backdrop-contrast: ;
      --tw-backdrop-grayscale: ;
      --tw-backdrop-hue-rotate: ;
      --tw-backdrop-invert: ;
      --tw-backdrop-opacity: ;
      --tw-backdrop-saturate: ;
      --tw-backdrop-sepia: ;
      --tw-contain-size: ;
      --tw-contain-layout: ;
      --tw-contain-paint: ;
      --tw-contain-style:
    }

    ::backdrop {
      --tw-border-spacing-x: 0;
      --tw-border-spacing-y: 0;
      --tw-translate-x: 0;
      --tw-translate-y: 0;
      --tw-rotate: 0;
      --tw-skew-x: 0;
      --tw-skew-y: 0;
      --tw-scale-x: 1;
      --tw-scale-y: 1;
      --tw-pan-x: ;
      --tw-pan-y: ;
      --tw-pinch-zoom: ;
      --tw-scroll-snap-strictness: proximity;
      --tw-gradient-from-position: ;
      --tw-gradient-via-position: ;
      --tw-gradient-to-position: ;
      --tw-ordinal: ;
      --tw-slashed-zero: ;
      --tw-numeric-figure: ;
      --tw-numeric-spacing: ;
      --tw-numeric-fraction: ;
      --tw-ring-inset: ;
      --tw-ring-offset-width: 0px;
      --tw-ring-offset-color: #fff;
      --tw-ring-color: rgb(59 130 246 / 0.5);
      --tw-ring-offset-shadow: 0 0 #0000;
      --tw-ring-shadow: 0 0 #0000;
      --tw-shadow: 0 0 #0000;
      --tw-shadow-colored: 0 0 #0000;
      --tw-blur: ;
      --tw-brightness: ;
      --tw-contrast: ;
      --tw-grayscale: ;
      --tw-hue-rotate: ;
      --tw-invert: ;
      --tw-saturate: ;
      --tw-sepia: ;
      --tw-drop-shadow: ;
      --tw-backdrop-blur: ;
      --tw-backdrop-brightness: ;
      --tw-backdrop-contrast: ;
      --tw-backdrop-grayscale: ;
      --tw-backdrop-hue-rotate: ;
      --tw-backdrop-invert: ;
      --tw-backdrop-opacity: ;
      --tw-backdrop-saturate: ;
      --tw-backdrop-sepia: ;
      --tw-contain-size: ;
      --tw-contain-layout: ;
      --tw-contain-paint: ;
      --tw-contain-style:
    }

    /* ! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com */
    *,
    ::after,
    ::before {
      box-sizing: border-box;
      border-width: 0;
      border-style: solid;
      border-color: #e5e7eb
    }

    ::after,
    ::before {
      --tw-content: ''
    }

    :host,
    html {
      line-height: 1.5;
      -webkit-text-size-adjust: 100%;
      -moz-tab-size: 4;
      tab-size: 4;
      font-family: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
      font-feature-settings: normal;
      font-variation-settings: normal;
      -webkit-tap-highlight-color: transparent
    }

    body {
      margin: 0;
      line-height: inherit
    }

    hr {
      height: 0;
      color: inherit;
      border-top-width: 1px
    }

    abbr:where([title]) {
      -webkit-text-decoration: underline dotted;
      text-decoration: underline dotted
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      font-size: inherit;
      font-weight: inherit
    }

    a {
      color: inherit;
      text-decoration: inherit
    }

    b,
    strong {
      font-weight: bolder
    }

    code,
    kbd,
    pre,
    samp {
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-feature-settings: normal;
      font-variation-settings: normal;
      font-size: 1em
    }

    small {
      font-size: 80%
    }

    sub,
    sup {
      font-size: 75%;
      line-height: 0;
      position: relative;
      vertical-align: baseline
    }

    sub {
      bottom: -.25em
    }

    sup {
      top: -.5em
    }

    table {
      text-indent: 0;
      border-color: inherit;
      border-collapse: collapse
    }

    button,
    input,
    optgroup,
    select,
    textarea {
      font-family: inherit;
      font-feature-settings: inherit;
      font-variation-settings: inherit;
      font-size: 100%;
      font-weight: inherit;
      line-height: inherit;
      letter-spacing: inherit;
      color: inherit;
      margin: 0;
      padding: 0
    }

    button,
    select {
      text-transform: none
    }

    button,
    input:where([type=button]),
    input:where([type=reset]),
    input:where([type=submit]) {
      -webkit-appearance: button;
      background-color: transparent;
      background-image: none
    }

    :-moz-focusring {
      outline: auto
    }

    :-moz-ui-invalid {
      box-shadow: none
    }

    progress {
      vertical-align: baseline
    }

    ::-webkit-inner-spin-button,
    ::-webkit-outer-spin-button {
      height: auto
    }

    [type=search] {
      -webkit-appearance: textfield;
      outline-offset: -2px
    }

    ::-webkit-search-decoration {
      -webkit-appearance: none
    }

    ::-webkit-file-upload-button {
      -webkit-appearance: button;
      font: inherit
    }

    summary {
      display: list-item
    }

    blockquote,
    dd,
    dl,
    figure,
    h1,
    h2,
    h3,
    h4,
    h5,
    h6,
    hr,
    p,
    pre {
      margin: 0
    }

    fieldset {
      margin: 0;
      padding: 0
    }

    legend {
      padding: 0
    }

    menu,
    ol,
    ul {
      list-style: none;
      margin: 0;
      padding: 0
    }

    dialog {
      padding: 0
    }

    textarea {
      resize: vertical
    }

    input::placeholder,
    textarea::placeholder {
      opacity: 1;
      color: #9ca3af
    }

    [role=button],
    button {
      cursor: pointer
    }

    :disabled {
      cursor: default
    }

    audio,
    canvas,
    embed,
    iframe,
    img,
    object,
    svg,
    video {
      display: block;
      vertical-align: middle
    }

    img,
    video {
      max-width: 100%;
      height: auto
    }

    [hidden]:where(:not([hidden=until-found])) {
      display: none
    }

    .pointer-events-none {
      pointer-events: none
    }

    .absolute {
      position: absolute
    }

    .relative {
      position: relative
    }

    .sticky {
      position: sticky
    }

    .inset-0 {
      inset: 0px
    }

    .inset-y-0 {
      top: 0px;
      bottom: 0px
    }

    .-bottom-10 {
      bottom: -2.5rem
    }

    .-left-10 {
      left: -2.5rem
    }

    .-right-10 {
      right: -2.5rem
    }

    .-right-2 {
      right: -0.5rem
    }

    .-top-10 {
      top: -2.5rem
    }

    .-top-2 {
      top: -0.5rem
    }

    .bottom-0 {
      bottom: 0px
    }

    .bottom-1 {
      bottom: 0.25rem
    }

    .left-0 {
      left: 0px
    }

    .left-3 {
      left: 0.75rem
    }

    .right-0 {
      right: 0px
    }

    .right-1 {
      right: 0.25rem
    }

    .right-3 {
      right: 0.75rem
    }

    .top-0 {
      top: 0px
    }

    .top-1 {
      top: 0.25rem
    }

    .top-24 {
      top: 6rem
    }

    .top-3 {
      top: 0.75rem
    }

    .top-full {
      top: 100%
    }

    .z-0 {
      z-index: 0
    }

    .z-10 {
      z-index: 10
    }

    .z-30 {
      z-index: 30
    }

    .z-50 {
      z-index: 50
    }

    .mx-4 {
      margin-left: 1rem;
      margin-right: 1rem
    }

    .mx-auto {
      margin-left: auto;
      margin-right: auto
    }

    .my-2 {
      margin-top: 0.5rem;
      margin-bottom: 0.5rem
    }

    .mb-1 {
      margin-bottom: 0.25rem
    }

    .mb-12 {
      margin-bottom: 3rem
    }

    .mb-16 {
      margin-bottom: 4rem
    }

    .mb-2 {
      margin-bottom: 0.5rem
    }

    .mb-3 {
      margin-bottom: 0.75rem
    }

    .mb-4 {
      margin-bottom: 1rem
    }

    .mb-6 {
      margin-bottom: 1.5rem
    }

    .mb-8 {
      margin-bottom: 2rem
    }

    .ml-2 {
      margin-left: 0.5rem
    }

    .mr-1 {
      margin-right: 0.25rem
    }

    .mr-2 {
      margin-right: 0.5rem
    }

    .mt-1 {
      margin-top: 0.25rem
    }

    .mt-2 {
      margin-top: 0.5rem
    }

    .mt-3 {
      margin-top: 0.75rem
    }

    .mt-4 {
      margin-top: 1rem
    }

    .block {
      display: block
    }

    .inline-block {
      display: inline-block
    }

    .flex {
      display: flex
    }

    .inline-flex {
      display: inline-flex
    }

    .grid {
      display: grid
    }

    .hidden {
      display: none
    }

    .h-12 {
      height: 3rem
    }

    .h-20 {
      height: 5rem
    }

    .h-4 {
      height: 1rem
    }

    .h-64 {
      height: 16rem
    }

    .h-80 {
      height: 20rem
    }

    .h-\[400px\] {
      height: 400px
    }

    .h-full {
      height: 100%
    }

    .max-h-48 {
      max-height: 12rem
    }

    .w-12 {
      width: 3rem
    }

    .w-4 {
      width: 1rem
    }

    .w-72 {
      width: 18rem
    }

    .w-full {
      width: 100%
    }

    .w-px {
      width: 1px
    }

    .min-w-fit {
      min-width: -moz-fit-content;
      min-width: fit-content
    }

    .max-w-2xl {
      max-width: 42rem
    }

    .max-w-7xl {
      max-width: 80rem
    }

    .max-w-sm {
      max-width: 24rem
    }

    .max-w-xl {
      max-width: 36rem
    }

    .flex-1 {
      flex: 1 1 0%
    }

    .flex-shrink-0 {
      flex-shrink: 0
    }

    .translate-y-full {
      --tw-translate-y: 100%;
      transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))
    }

    .-rotate-12 {
      --tw-rotate: -12deg;
      transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))
    }

    .rotate-12 {
      --tw-rotate: 12deg;
      transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))
    }

    .transform {
      transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))
    }

    @keyframes bounce {

      0%,
      100% {
        transform: translateY(-25%);
        animation-timing-function: cubic-bezier(0.8, 0, 1, 1)
      }

      50% {
        transform: none;
        animation-timing-function: cubic-bezier(0, 0, 0.2, 1)
      }
    }

    .animate-bounce {
      animation: bounce 1s infinite
    }

    .cursor-pointer {
      cursor: pointer
    }

    .appearance-none {
      -webkit-appearance: none;
      appearance: none
    }

    .grid-cols-1 {
      grid-template-columns: repeat(1, minmax(0, 1fr))
    }

    .flex-col {
      flex-direction: column
    }

    .flex-wrap {
      flex-wrap: wrap
    }

    .items-start {
      align-items: flex-start
    }

    .items-end {
      align-items: flex-end
    }

    .items-center {
      align-items: center
    }

    .justify-center {
      justify-content: center
    }

    .justify-between {
      justify-content: space-between
    }

    .gap-2 {
      gap: 0.5rem
    }

    .gap-3 {
      gap: 0.75rem
    }

    .gap-4 {
      gap: 1rem
    }

    .gap-6 {
      gap: 1.5rem
    }

    .gap-8 {
      gap: 2rem
    }

    .space-x-4> :not([hidden])~ :not([hidden]) {
      --tw-space-x-reverse: 0;
      margin-right: calc(1rem * var(--tw-space-x-reverse));
      margin-left: calc(1rem * calc(1 - var(--tw-space-x-reverse)))
    }

    .space-x-6> :not([hidden])~ :not([hidden]) {
      --tw-space-x-reverse: 0;
      margin-right: calc(1.5rem * var(--tw-space-x-reverse));
      margin-left: calc(1.5rem * calc(1 - var(--tw-space-x-reverse)))
    }

    .space-x-8> :not([hidden])~ :not([hidden]) {
      --tw-space-x-reverse: 0;
      margin-right: calc(2rem * var(--tw-space-x-reverse));
      margin-left: calc(2rem * calc(1 - var(--tw-space-x-reverse)))
    }

    .space-y-1> :not([hidden])~ :not([hidden]) {
      --tw-space-y-reverse: 0;
      margin-top: calc(0.25rem * calc(1 - var(--tw-space-y-reverse)));
      margin-bottom: calc(0.25rem * var(--tw-space-y-reverse))
    }

    .space-y-2> :not([hidden])~ :not([hidden]) {
      --tw-space-y-reverse: 0;
      margin-top: calc(0.5rem * calc(1 - var(--tw-space-y-reverse)));
      margin-bottom: calc(0.5rem * var(--tw-space-y-reverse))
    }

    .space-y-3> :not([hidden])~ :not([hidden]) {
      --tw-space-y-reverse: 0;
      margin-top: calc(0.75rem * calc(1 - var(--tw-space-y-reverse)));
      margin-bottom: calc(0.75rem * var(--tw-space-y-reverse))
    }

    .overflow-hidden {
      overflow: hidden
    }

    .overflow-y-auto {
      overflow-y: auto
    }

    .truncate {
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap
    }

    .rounded {
      border-radius: 0.25rem
    }

    .rounded-2xl {
      border-radius: 1rem
    }

    .rounded-3xl {
      border-radius: 1.5rem
    }

    .rounded-full {
      border-radius: 9999px
    }

    .rounded-lg {
      border-radius: 0.5rem
    }

    .rounded-xl {
      border-radius: 0.75rem
    }

    .rounded-r-md {
      border-top-right-radius: 0.375rem;
      border-bottom-right-radius: 0.375rem
    }

    .border {
      border-width: 1px
    }

    .border-b {
      border-bottom-width: 1px
    }

    .border-l {
      border-left-width: 1px
    }

    .border-t {
      border-top-width: 1px
    }

    .border-none {
      border-style: none
    }

    .border-gray-100 {
      --tw-border-opacity: 1;
      border-color: rgb(243 244 246 / var(--tw-border-opacity, 1))
    }

    .border-gray-200 {
      --tw-border-opacity: 1;
      border-color: rgb(229 231 235 / var(--tw-border-opacity, 1))
    }

    .border-gray-300 {
      --tw-border-opacity: 1;
      border-color: rgb(209 213 219 / var(--tw-border-opacity, 1))
    }

    .border-green-800 {
      --tw-border-opacity: 1;
      border-color: rgb(22 101 52 / var(--tw-border-opacity, 1))
    }

    .border-transparent {
      border-color: transparent
    }

    .bg-black\/40 {
      background-color: rgb(0 0 0 / 0.4)
    }

    .bg-blue-100 {
      --tw-bg-opacity: 1;
      background-color: rgb(219 234 254 / var(--tw-bg-opacity, 1))
    }

    .bg-brand-brown {
      --tw-bg-opacity: 1;
      background-color: rgb(139 90 43 / var(--tw-bg-opacity, 1))
    }

    .bg-brand-cream {
      --tw-bg-opacity: 1;
      background-color: rgb(241 240 232 / var(--tw-bg-opacity, 1))
    }

    .bg-brand-green {
      --tw-bg-opacity: 1;
      background-color: rgb(47 82 51 / var(--tw-bg-opacity, 1))
    }

    .bg-brand-light\/20 {
      background-color: rgb(118 136 91 / 0.2)
    }

    .bg-brand-orange {
      --tw-bg-opacity: 1;
      background-color: rgb(232 93 4 / var(--tw-bg-opacity, 1))
    }

    .bg-gray-100 {
      --tw-bg-opacity: 1;
      background-color: rgb(243 244 246 / var(--tw-bg-opacity, 1))
    }

    .bg-gray-300 {
      --tw-bg-opacity: 1;
      background-color: rgb(209 213 219 / var(--tw-bg-opacity, 1))
    }

    .bg-gray-50 {
      --tw-bg-opacity: 1;
      background-color: rgb(249 250 251 / var(--tw-bg-opacity, 1))
    }

    .bg-green-100 {
      --tw-bg-opacity: 1;
      background-color: rgb(220 252 231 / var(--tw-bg-opacity, 1))
    }

    .bg-red-500 {
      --tw-bg-opacity: 1;
      background-color: rgb(239 68 68 / var(--tw-bg-opacity, 1))
    }

    .bg-transparent {
      background-color: transparent
    }

    .bg-white {
      --tw-bg-opacity: 1;
      background-color: rgb(255 255 255 / var(--tw-bg-opacity, 1))
    }

    .bg-white\/90 {
      background-color: rgb(255 255 255 / 0.9)
    }

    .bg-gradient-to-r {
      background-image: linear-gradient(to right, var(--tw-gradient-stops))
    }

    .from-black\/70 {
      --tw-gradient-from: rgb(0 0 0 / 0.7) var(--tw-gradient-from-position);
      --tw-gradient-to: rgb(0 0 0 / 0) var(--tw-gradient-to-position);
      --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)
    }

    .to-transparent {
      --tw-gradient-to: transparent var(--tw-gradient-to-position)
    }

    .object-cover {
      object-fit: cover
    }

    .p-2 {
      padding: 0.5rem
    }

    .p-4 {
      padding: 1rem
    }

    .p-8 {
      padding: 2rem
    }

    .px-2 {
      padding-left: 0.5rem;
      padding-right: 0.5rem
    }

    .px-3 {
      padding-left: 0.75rem;
      padding-right: 0.75rem
    }

    .px-4 {
      padding-left: 1rem;
      padding-right: 1rem
    }

    .px-5 {
      padding-left: 1.25rem;
      padding-right: 1.25rem
    }

    .px-6 {
      padding-left: 1.5rem;
      padding-right: 1.5rem
    }

    .px-8 {
      padding-left: 2rem;
      padding-right: 2rem
    }

    .py-0 {
      padding-top: 0px;
      padding-bottom: 0px
    }

    .py-1 {
      padding-top: 0.25rem;
      padding-bottom: 0.25rem
    }

    .py-12 {
      padding-top: 3rem;
      padding-bottom: 3rem
    }

    .py-2 {
      padding-top: 0.5rem;
      padding-bottom: 0.5rem
    }

    .py-2\.5 {
      padding-top: 0.625rem;
      padding-bottom: 0.625rem
    }

    .py-3 {
      padding-top: 0.75rem;
      padding-bottom: 0.75rem
    }

    .pb-2 {
      padding-bottom: 0.5rem
    }

    .pb-8 {
      padding-bottom: 2rem
    }

    .pl-10 {
      padding-left: 2.5rem
    }

    .pl-2 {
      padding-left: 0.5rem
    }

    .pl-3 {
      padding-left: 0.75rem
    }

    .pl-4 {
      padding-left: 1rem
    }

    .pr-32 {
      padding-right: 8rem
    }

    .pr-8 {
      padding-right: 2rem
    }

    .pt-16 {
      padding-top: 4rem
    }

    .pt-8 {
      padding-top: 2rem
    }

    .text-center {
      text-align: center
    }

    .font-serif {
      font-family: ui-serif, Georgia, Cambria, "Times New Roman", Times, serif
    }

    .text-2xl {
      font-size: 1.5rem;
      line-height: 2rem
    }

    .text-3xl {
      font-size: 1.875rem;
      line-height: 2.25rem
    }

    .text-4xl {
      font-size: 2.25rem;
      line-height: 2.5rem
    }

    .text-9xl {
      font-size: 8rem;
      line-height: 1
    }

    .text-\[10px\] {
      font-size: 10px
    }

    .text-lg {
      font-size: 1.125rem;
      line-height: 1.75rem
    }

    .text-sm {
      font-size: 0.875rem;
      line-height: 1.25rem
    }

    .text-xl {
      font-size: 1.25rem;
      line-height: 1.75rem
    }

    .text-xs {
      font-size: 0.75rem;
      line-height: 1rem
    }

    .font-bold {
      font-weight: 700
    }

    .font-medium {
      font-weight: 500
    }

    .uppercase {
      text-transform: uppercase
    }

    .leading-5 {
      line-height: 1.25rem
    }

    .leading-relaxed {
      line-height: 1.625
    }

    .leading-tight {
      line-height: 1.25
    }

    .tracking-wide {
      letter-spacing: 0.025em
    }

    .tracking-widest {
      letter-spacing: 0.1em
    }

    .text-blue-600 {
      --tw-text-opacity: 1;
      color: rgb(37 99 235 / var(--tw-text-opacity, 1))
    }

    .text-brand-brown {
      --tw-text-opacity: 1;
      color: rgb(139 90 43 / var(--tw-text-opacity, 1))
    }

    .text-brand-green {
      --tw-text-opacity: 1;
      color: rgb(47 82 51 / var(--tw-text-opacity, 1))
    }

    .text-brand-light\/20 {
      color: rgb(118 136 91 / 0.2)
    }

    .text-gray-200 {
      --tw-text-opacity: 1;
      color: rgb(229 231 235 / var(--tw-text-opacity, 1))
    }

    .text-gray-400 {
      --tw-text-opacity: 1;
      color: rgb(156 163 175 / var(--tw-text-opacity, 1))
    }

    .text-gray-500 {
      --tw-text-opacity: 1;
      color: rgb(107 114 128 / var(--tw-text-opacity, 1))
    }

    .text-gray-600 {
      --tw-text-opacity: 1;
      color: rgb(75 85 99 / var(--tw-text-opacity, 1))
    }

    .text-gray-700 {
      --tw-text-opacity: 1;
      color: rgb(55 65 81 / var(--tw-text-opacity, 1))
    }

    .text-gray-800 {
      --tw-text-opacity: 1;
      color: rgb(31 41 55 / var(--tw-text-opacity, 1))
    }

    .text-green-100 {
      --tw-text-opacity: 1;
      color: rgb(220 252 231 / var(--tw-text-opacity, 1))
    }

    .text-green-200 {
      --tw-text-opacity: 1;
      color: rgb(187 247 208 / var(--tw-text-opacity, 1))
    }

    .text-white {
      --tw-text-opacity: 1;
      color: rgb(255 255 255 / var(--tw-text-opacity, 1))
    }

    .text-yellow-400 {
      --tw-text-opacity: 1;
      color: rgb(250 204 21 / var(--tw-text-opacity, 1))
    }

    .line-through {
      -webkit-text-decoration-line: line-through;
      text-decoration-line: line-through
    }

    .placeholder-gray-500::placeholder {
      --tw-placeholder-opacity: 1;
      color: rgb(107 114 128 / var(--tw-placeholder-opacity, 1))
    }

    .shadow-lg {
      --tw-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
      --tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);
      box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)
    }

    .shadow-md {
      --tw-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
      --tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);
      box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)
    }

    .shadow-sm {
      --tw-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
      --tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);
      box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)
    }

    .shadow-xl {
      --tw-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
      --tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);
      box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)
    }

    .shadow-green-200 {
      --tw-shadow-color: #bbf7d0;
      --tw-shadow: var(--tw-shadow-colored)
    }

    .backdrop-blur-sm {
      --tw-backdrop-blur: blur(4px);
      -webkit-backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);
      backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)
    }

    .transition {
      transition-property: color, background-color, border-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-text-decoration-color, -webkit-backdrop-filter;
      transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;
      transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-text-decoration-color, -webkit-backdrop-filter;
      transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
      transition-duration: 150ms
    }

    .transition-all {
      transition-property: all;
      transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
      transition-duration: 150ms
    }

    .duration-300 {
      transition-duration: 300ms
    }

    .duration-500 {
      transition-duration: 500ms
    }

    .hover\:bg-black\/30:hover {
      background-color: rgb(0 0 0 / 0.3)
    }

    .hover\:bg-brand-brown:hover {
      --tw-bg-opacity: 1;
      background-color: rgb(139 90 43 / var(--tw-bg-opacity, 1))
    }

    .hover\:bg-brand-darkGreen:hover {
      --tw-bg-opacity: 1;
      background-color: rgb(26 51 29 / var(--tw-bg-opacity, 1))
    }

    .hover\:bg-brand-green:hover {
      --tw-bg-opacity: 1;
      background-color: rgb(47 82 51 / var(--tw-bg-opacity, 1))
    }

    .hover\:bg-brand-light:hover {
      --tw-bg-opacity: 1;
      background-color: rgb(118 136 91 / var(--tw-bg-opacity, 1))
    }

    .hover\:bg-gray-800:hover {
      --tw-bg-opacity: 1;
      background-color: rgb(31 41 55 / var(--tw-bg-opacity, 1))
    }

    .hover\:bg-green-200:hover {
      --tw-bg-opacity: 1;
      background-color: rgb(187 247 208 / var(--tw-bg-opacity, 1))
    }

    .hover\:bg-green-800:hover {
      --tw-bg-opacity: 1;
      background-color: rgb(22 101 52 / var(--tw-bg-opacity, 1))
    }

    .hover\:text-brand-brown:hover {
      --tw-text-opacity: 1;
      color: rgb(139 90 43 / var(--tw-text-opacity, 1))
    }

    .hover\:text-brand-green:hover {
      --tw-text-opacity: 1;
      color: rgb(47 82 51 / var(--tw-text-opacity, 1))
    }

    .hover\:text-brand-light:hover {
      --tw-text-opacity: 1;
      color: rgb(118 136 91 / var(--tw-text-opacity, 1))
    }

    .hover\:text-red-500:hover {
      --tw-text-opacity: 1;
      color: rgb(239 68 68 / var(--tw-text-opacity, 1))
    }

    .hover\:text-white:hover {
      --tw-text-opacity: 1;
      color: rgb(255 255 255 / var(--tw-text-opacity, 1))
    }

    .hover\:underline:hover {
      -webkit-text-decoration-line: underline;
      text-decoration-line: underline
    }

    .hover\:shadow-xl:hover {
      --tw-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
      --tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);
      box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)
    }

    .focus\:border-brand-green:focus {
      --tw-border-opacity: 1;
      border-color: rgb(47 82 51 / var(--tw-border-opacity, 1))
    }

    .focus\:bg-white:focus {
      --tw-bg-opacity: 1;
      background-color: rgb(255 255 255 / var(--tw-bg-opacity, 1))
    }

    .focus\:outline-none:focus {
      outline: 2px solid transparent;
      outline-offset: 2px
    }

    .focus\:ring-0:focus {
      --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);
      --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color);
      box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)
    }

    .focus\:ring-1:focus {
      --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);
      --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);
      box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)
    }

    .focus\:ring-brand-green:focus {
      --tw-ring-opacity: 1;
      --tw-ring-color: rgb(47 82 51 / var(--tw-ring-opacity, 1))
    }

    .group:focus-within .group-focus-within\:text-brand-green {
      --tw-text-opacity: 1;
      color: rgb(47 82 51 / var(--tw-text-opacity, 1))
    }

    .group:hover .group-hover\:block {
      display: block
    }

    .group:hover .group-hover\:translate-y-0 {
      --tw-translate-y: 0px;
      transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))
    }

    .group:hover .group-hover\:scale-105 {
      --tw-scale-x: 1.05;
      --tw-scale-y: 1.05;
      transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))
    }

    .group:hover .group-hover\:scale-110 {
      --tw-scale-x: 1.1;
      --tw-scale-y: 1.1;
      transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))
    }

    @media (min-width: 640px) {
      .sm\:block {
        display: block
      }

      .sm\:grid-cols-2 {
        grid-template-columns: repeat(2, minmax(0, 1fr))
      }

      .sm\:flex-row {
        flex-direction: row
      }

      .sm\:px-6 {
        padding-left: 1.5rem;
        padding-right: 1.5rem
      }

      .sm\:text-sm {
        font-size: 0.875rem;
        line-height: 1.25rem
      }
    }

    @media (min-width: 768px) {
      .md\:block {
        display: block
      }

      .md\:flex {
        display: flex
      }

      .md\:hidden {
        display: none
      }

      .md\:h-\[500px\] {
        height: 500px
      }

      .md\:grid-cols-2 {
        grid-template-columns: repeat(2, minmax(0, 1fr))
      }

      .md\:flex-row {
        flex-direction: row
      }

      .md\:items-center {
        align-items: center
      }

      .md\:justify-end {
        justify-content: flex-end
      }

      .md\:p-12 {
        padding: 3rem
      }

      .md\:p-6 {
        padding: 1.5rem
      }

      .md\:text-2xl {
        font-size: 1.5rem;
        line-height: 2rem
      }

      .md\:text-5xl {
        font-size: 3rem;
        line-height: 1
      }
    }

    @media (min-width: 1024px) {
      .lg\:grid-cols-4 {
        grid-template-columns: repeat(4, minmax(0, 1fr))
      }

      .lg\:px-8 {
        padding-left: 2rem;
        padding-right: 2rem
      }
    }
  </style>
</head>

<body class="bg-brand-cream text-gray-800">

  <!-- Top Bar (Thông báo/Hotline) -->
  <div class="bg-brand-green text-white text-xs py-2 px-4 hidden md:block">
    <div class="max-w-7xl mx-auto flex justify-between items-center">
      <span data-i18n="topbar.freeShipping"><i class="fas fa-truck mr-2"></i>Free shipping for orders over 500k</span>
      <div class="flex items-center space-x-4">
        <a href="#" class="hover:text-brand-light" data-i18n="topbar.hotline">Hotline: 1900 1234</a>
        <a href="#" class="hover:text-brand-light" data-i18n="topbar.support">Customer Support</a>
        <!-- Language Switch -->
        <div class="flex items-center gap-2 border-l border-white/30 pl-4">
          <button onclick="changeLanguage('en')" id="lang-en" class="px-2 py-1 rounded hover:bg-white/20 transition font-medium">EN</button>
          <span class="text-white/50">|</span>
          <button onclick="changeLanguage('vi')" id="lang-vi" class="px-2 py-1 rounded hover:bg-white/20 transition">VI</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Navigation & Search -->
  <nav class="bg-white shadow-md sticky top-0 w-full z-50 transition-all duration-300" id="navbar">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center justify-between h-20 gap-4">

        <!-- Logo -->
        <div class="flex-shrink-0 flex items-center cursor-pointer min-w-fit" onclick="window.scrollTo(0,0)">
          <i class="fas fa-mountain text-brand-green text-3xl mr-2"></i>
          <div class="hidden sm:block">
            <h1 class="text-xl md:text-2xl font-bold text-brand-green tracking-wide">Mountain Harvest</h1>
            <span class="text-[10px] text-brand-brown tracking-widest uppercase block text-center">Nature's Best</span>
          </div>
        </div>

        <!-- SEARCH BOX (Central Feature) -->
        <div class="hidden md:flex flex-1 max-w-2xl mx-4 relative group">
          <div class="relative w-full">
            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
              <i class="fas fa-search text-gray-400 group-focus-within:text-brand-green transition"></i>
            </div>
            <input type="text"
              class="block w-full pl-10 pr-32 py-2.5 border border-gray-300 rounded-full leading-5 bg-gray-50 placeholder-gray-500 focus:outline-none focus:bg-white focus:border-brand-green focus:ring-1 focus:ring-brand-green sm:text-sm transition shadow-sm"
              placeholder="Search products..." data-i18n-placeholder="search.placeholder">

            <!-- Quick Category Select inside Search -->
            <div class="absolute inset-y-0 right-0 flex items-center">
              <select
                class="h-full py-0 pl-2 pr-8 border-transparent bg-transparent text-gray-500 sm:text-sm rounded-r-md focus:ring-0 cursor-pointer hover:text-brand-green font-medium">
                <option data-i18n="search.all">All</option>
                <option data-i18n="search.agricultural">Agricultural Products</option>
                <option data-i18n="search.essentials">Essentials</option>
              </select>
              <button
                class="absolute right-1 top-1 bottom-1 bg-brand-green hover:bg-brand-darkGreen text-white px-4 rounded-full transition text-sm font-bold" data-i18n="search.button">
                Search
              </button>
            </div>
          </div>
        </div>

        <!-- Right Actions -->
        <div class="flex items-center space-x-6 text-gray-600">
          <!-- User Account -->
          <div class="hidden md:flex flex-col items-center cursor-pointer hover:text-brand-green">
            <i class="far fa-user text-xl"></i>
            <span class="text-[10px] mt-1" data-i18n="nav.account">Account</span>
          </div>

          <!-- Cart with Notification -->
          <div class="relative group cursor-pointer hover:text-brand-green">
            <div class="flex flex-col items-center">
              <div class="relative">
                <i class="fas fa-shopping-basket text-xl"></i>
                <span id="cart-count"
                  class="absolute -top-2 -right-2 bg-brand-orange text-white text-[10px] font-bold rounded-full h-4 w-4 flex items-center justify-center animate-bounce hidden">0</span>
              </div>
              <span class="text-[10px] mt-1 hidden md:block" data-i18n="nav.cart">Cart</span>
            </div>

            <!-- Mini Cart Preview (Hover) -->
            <div class="absolute right-0 top-full pt-2 hidden group-hover:block z-50">
              <div class="w-72 bg-white rounded-lg shadow-xl border border-gray-100 p-4">
              <h4 class="text-sm font-bold text-gray-700 mb-3 border-b pb-2" data-i18n="cart.title">Your Cart</h4>
              <div id="cart-items" class="space-y-3 mb-4 max-h-48 overflow-y-auto custom-scrollbar">
                <!-- Items will be injected here by JS -->
                <div class="text-center text-gray-500 py-4 text-sm" data-i18n="cart.loading">Loading...</div>
              </div>
              <div class="flex justify-between text-sm font-bold mb-3 text-brand-green">
                <span data-i18n="cart.total">Total:</span>
                <span id="cart-total">0đ</span>
              </div>
              <button class="w-full bg-brand-brown text-white py-2 rounded text-sm hover:bg-gray-800 transition" data-i18n="cart.checkout">Checkout Now</button>
              </div>
            </div>
          </div>

          <!-- Mobile Menu Button -->
          <button id="mobile-menu-btn" class="md:hidden text-2xl">
            <i class="fas fa-bars"></i>
          </button>
        </div>
      </div>

      <!-- Category Bar (Desktop) -->
      <div class="hidden md:flex justify-center space-x-8 py-2 border-t border-gray-100 text-sm font-medium">
        <a href="#fresh-food" class="hover:text-brand-green transition flex items-center"><i
            class="fas fa-carrot mr-1"></i><span data-i18n="nav.fresh">Fresh</span></a>
        <a href="#dry-food" class="hover:text-brand-green transition flex items-center"><i
            class="fas fa-wheat-awn mr-1"></i><span data-i18n="nav.dry">Dry Food</span></a>
        <a href="#beverage" class="hover:text-brand-green transition flex items-center"><i
            class="fas fa-coffee mr-1"></i><span data-i18n="nav.beverage">Beverages</span></a>
        <div class="w-px h-4 bg-gray-300"></div>
        <a href="#home-line" class="hover:text-brand-brown transition flex items-center"><i
            class="fas fa-house-chimney mr-1"></i>Home Line</a>
        <a href="#dhp" class="hover:text-brand-brown transition flex items-center"><i
            class="fas fa-spray-can-sparkles mr-1"></i><span data-i18n="nav.cosmetics">Cosmetics</span></a>
      </div>
    </div>

    <!-- Mobile Menu Panel -->
    <div id="mobile-menu" class="hidden md:hidden bg-white border-t p-4">
      <input type="text" class="w-full border p-2 rounded mb-4" placeholder="Search..." data-i18n-placeholder="search.placeholder">
      <div class="space-y-2">
        <a href="#" class="block font-bold text-brand-green" data-i18n="search.agricultural">Agricultural Products</a>
        <div class="pl-4 space-y-1 text-sm text-gray-600">
          <a href="#" class="block" data-i18n="nav.fresh">Fresh</a>
          <a href="#" class="block" data-i18n="nav.dry">Dry Food</a>
        </div>
        <a href="#" class="block font-bold text-brand-brown mt-2" data-i18n="search.essentials">Essentials</a>
      </div>
    </div>
  </nav>

  <!-- Main Banner (Hero) -->
  <header class="relative h-[400px] md:h-[500px] flex items-center">
    <div class="absolute inset-0 z-0">
      <img
        src="https://images.unsplash.com/photo-1542838132-92c53300491e?ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=1920&amp;q=80"
        alt="Market" class="w-full h-full object-cover">
      <div class="absolute inset-0 bg-gradient-to-r from-black/70 to-transparent"></div>
    </div>
    <div class="relative z-10 max-w-7xl mx-auto px-4 w-full">
      <div class="max-w-xl text-white">
        <span class="bg-brand-orange text-white text-xs font-bold px-2 py-1 rounded uppercase mb-2 inline-block" data-i18n="hero.promo">Summer Sale</span>
        <h1 class="text-4xl md:text-5xl font-bold mb-4 leading-tight" data-i18n="hero.title">Fresh Produce <br> For Green Living</h1>
        <p class="text-gray-200 mb-6 text-lg" data-i18n="hero.subtitle">Up to 20% off on vegetables and fruits this week.</p>
        <a href="#shop"
          class="bg-brand-green hover:bg-brand-light text-white px-8 py-3 rounded-full font-bold transition shadow-lg inline-flex items-center">
          <span data-i18n="hero.button">Shop Now</span> <i class="fas fa-arrow-right ml-2"></i>
        </a>
      </div>
    </div>
  </header>

  <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12" id="shop">

    <!-- ADVANCED SEARCH / FILTER BAR -->
    <section class="mb-12">
      <div class="sticky top-24 z-30">
        <div class="bg-white rounded-xl shadow-lg border border-gray-100 p-4 md:p-6">
        <div class="flex flex-col md:flex-row md:items-center justify-between gap-4">
          <!-- Title -->
          <div class="flex items-center gap-2 text-brand-green font-bold text-lg">
            <i class="fas fa-filter"></i>
            <span data-i18n="filter.title">Product Filters</span>
          </div>

          <!-- Filters -->
          <div class="flex flex-wrap gap-3 flex-1 md:justify-end">
            <!-- Category Filter -->
            <div class="relative">
              <select id="filter-category" name="category"
                class="appearance-none bg-gray-50 border border-gray-200 text-gray-700 py-2 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-brand-green text-sm font-medium">
                <option value="">Danh mục: Tất cả</option>
                <option value="Rau củ quả">Rau củ quả</option>
                <option value="Hạt & Ngũ cốc">Hạt &amp; Ngũ cốc</option>
                <option value="Gia dụng">Gia dụng</option>
              </select>
              <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
                <i class="fas fa-chevron-down text-xs"></i>
              </div>
            </div>

            <!-- Price Filter -->
            <div class="relative">
              <select id="filter-price" name="price"
                class="appearance-none bg-gray-50 border border-gray-200 text-gray-700 py-2 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-brand-green text-sm font-medium">
                <option value="">Mức giá: Tất cả</option>
                <option value="under50">Dưới 50.000đ</option>
                <option value="50-200">50.000đ - 200.000đ</option>
                <option value="over200">Trên 200.000đ</option>
              </select>
              <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
                <i class="fas fa-chevron-down text-xs"></i>
              </div>
            </div>

            <!-- Standard Filter -->
            <div class="relative">
              <select id="filter-standard" name="standard"
                class="appearance-none bg-gray-50 border border-gray-200 text-gray-700 py-2 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-brand-green text-sm font-medium">
                <option value="">Tiêu chuẩn: Tất cả</option>
                <option value="Organic">Organic</option>
                <option value="VietGAP">VietGAP</option>
                <option value="Handmade">Handmade</option>
              </select>
              <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
                <i class="fas fa-chevron-down text-xs"></i>
              </div>
            </div>
          </div>

          <!-- Sort -->
          <div class="border-l pl-4 hidden md:block">
            <select id="filter-sort" name="sort"
              class="border-none text-sm font-bold text-gray-600 focus:ring-0 cursor-pointer hover:text-brand-green">
              <option value="newest">Mới nhất</option>
              <option value="bestseller">Bán chạy nhất</option>
              <option value="price_asc">Giá thấp đến cao</option>
              <option value="price_desc">Giá cao đến thấp</option>
            </select>
          </div>
        </div>

        <!-- Active Filters Tags -->
        <div id="active-filters" class="flex gap-2 mt-4 text-xs flex-wrap items-center hidden">
          <span class="text-gray-500">Đang lọc:</span>
          <span id="active-filters-tags"></span>
          <span id="clear-filters" class="text-gray-400 px-2 py-1 cursor-pointer hover:text-red-500">Xoá tất cả</span>
        </div>
        </div>
      </div>
    </section>

    <!-- PRODUCT SHOWCASE GRID -->
    <section class="mb-16">
      <div class="flex justify-between items-end mb-8">
        <div>
          <h2 class="text-3xl font-bold text-gray-800" data-i18n="products.featured">Featured Products</h2>
          <p class="text-gray-500 mt-2" data-i18n="products.subtitle">Best selection from Mountain Harvest farm</p>
        </div>
        <a href="#" class="text-brand-green font-bold hover:underline"><span data-i18n="products.viewAll">View All</span> <i
            class="fas fa-arrow-right text-xs"></i></a>
      </div>

      <div id="product-list" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
        <!-- Products will be injected here by JS -->
      </div>
      <div id="product-pagination" class="flex justify-center items-center gap-2 mt-8 flex-wrap"></div>
    </section>

    <!-- CATEGORY BROCHURE (Re-styled for Sales) -->
    <section class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-16">
      <div class="relative rounded-2xl overflow-hidden h-80 group cursor-pointer">
        <img
          src="https://images.unsplash.com/photo-1542838132-92c53300491e?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=80"
          alt="Nông Sản Tươi"
          class="absolute inset-0 w-full h-full object-cover transition duration-500 group-hover:scale-105">
        <div class="absolute inset-0 bg-black/40 hover:bg-black/30 transition"></div>
        <div class="absolute inset-0 flex flex-col justify-center items-center text-center p-8">
          <h3 class="text-3xl font-bold text-white mb-2 font-serif" data-i18n="category.fresh.title">Fresh Produce</h3>
          <p class="text-gray-200 mb-6 max-w-sm" data-i18n="category.fresh.desc">Harvested from Da Lat farms, delivered same day to ensure freshness.</p>
          <button
            class="bg-white text-brand-green px-6 py-2 rounded-full font-bold hover:bg-brand-green hover:text-white transition" data-i18n="category.fresh.button">Shop Now</button>
        </div>
      </div>

      <div class="relative rounded-2xl overflow-hidden h-80 group cursor-pointer">
        <img
          src="https://images.unsplash.com/photo-1556911220-e15b29be8c8f?ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=1000&amp;q=80"
          class="absolute inset-0 w-full h-full object-cover transition duration-500 group-hover:scale-105">
        <div class="absolute inset-0 bg-black/40 hover:bg-black/30 transition"></div>
        <div class="absolute inset-0 flex flex-col justify-center items-center text-center p-8">
          <h3 class="text-3xl font-bold text-white mb-2 font-serif" data-i18n="category.essentials.title">Green Essentials</h3>
          <p class="text-gray-200 mb-6 max-w-sm" data-i18n="category.essentials.desc">Natural home care products, safe for children.</p>
          <button
            class="bg-white text-brand-brown px-6 py-2 rounded-full font-bold hover:bg-brand-brown hover:text-white transition" data-i18n="category.essentials.button">Explore</button>
        </div>
      </div>
    </section>

    <!-- News Section -->
    <section class="mb-16">
      <div class="flex justify-between items-end mb-8">
        <div>
          <h2 class="text-3xl font-bold text-gray-800" data-i18n="news.sectionTitle">Tin tức / News</h2>
          <p class="text-gray-500 mt-2" data-i18n="news.sectionSubtitle">Cập nhật mới nhất từ Mountain Harvest</p>
        </div>
      </div>
      <div id="news-list" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
        <!-- News items loaded from API -->
      </div>
      <div id="news-pagination" class="flex justify-center items-center gap-2 mt-8 flex-wrap"></div>
    </section>

    <!-- Newsletter -->
    <section class="bg-brand-light/20 rounded-3xl p-8 md:p-12 text-center mb-16 relative overflow-hidden">
      <!-- Background pattern decorative -->
      <i class="fas fa-leaf text-brand-light/20 text-9xl absolute -top-10 -left-10 transform -rotate-12"></i>
      <i class="fas fa-lemon text-brand-light/20 text-9xl absolute -bottom-10 -right-10 transform rotate-12"></i>

      <div class="relative z-10 max-w-2xl mx-auto">
        <h2 class="text-3xl font-bold text-brand-green mb-4" data-i18n="newsletter.title">Subscribe to Promotions</h2>
        <p class="text-gray-600 mb-8" data-i18n="newsletter.subtitle">Get 10% off your first order and updates on fresh produce.
        </p>
        <div class="flex flex-col sm:flex-row gap-3">
          <input type="email" placeholder="Enter your email..." data-i18n-placeholder="newsletter.placeholder"
            class="flex-1 py-3 px-5 rounded-full border border-gray-300 focus:outline-none focus:border-brand-green">
          <button class="bg-brand-green text-white py-3 px-8 rounded-full font-bold hover:bg-green-800 transition" data-i18n="newsletter.button">Subscribe</button>
        </div>
      </div>
    </section>

  </main>

  <!-- Footer (Giữ nguyên nhưng tinh chỉnh nhẹ) -->
  <footer class="bg-brand-green text-white pt-16 pb-8">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12">
        <!-- Col 1 -->
        <div>
          <div class="flex items-center mb-4">
            <i class="fas fa-mountain text-2xl mr-2"></i>
            <span class="text-2xl font-bold font-serif">Mountain Harvest</span>
          </div>
          <p class="text-green-100 text-sm leading-relaxed mb-4">
            Hệ thống phân phối nông sản và nhu yếu phẩm thiên nhiên hàng đầu.
          </p>
          <div class="flex space-x-4">
            <a href="#" class="text-white hover:text-brand-light transition"><i class="fab fa-facebook-f"></i></a>
            <a href="#" class="text-white hover:text-brand-light transition"><i class="fab fa-tiktok"></i></a>
            <a href="#" class="text-white hover:text-brand-light transition"><i class="fab fa-youtube"></i></a>
          </div>
        </div>

        <!-- Col 2 -->
        <div>
          <h4 class="text-lg font-bold mb-4">Hỗ Trợ Khách Hàng</h4>
          <ul class="space-y-2 text-green-100 text-sm">
            <li><a href="#" class="hover:text-white hover:underline">Hướng dẫn mua hàng</a></li>
            <li><a href="#" class="hover:text-white hover:underline">Chính sách giao hàng</a></li>
            <li><a href="#" class="hover:text-white hover:underline">Đổi trả &amp; Hoàn tiền</a></li>
            <li><a href="#" class="hover:text-white hover:underline">Câu hỏi thường gặp</a></li>
          </ul>
        </div>

        <!-- Col 3: Contact -->
        <div>
          <h4 class="text-lg font-bold mb-4">Liên hệ</h4>
          <ul class="space-y-3 text-green-100 text-sm">
            <li class="flex items-start"><i class="fas fa-map-marker-alt mt-1 mr-2"></i> 123 Đường Mây Núi, Đà Lạt</li>
            <li class="flex items-center"><i class="fas fa-phone mr-2"></i> 1900 1234</li>
            <li class="flex items-center"><i class="fas fa-envelope mr-2"></i> cskh@mountainharvest.vn</li>
          </ul>
        </div>

        <!-- Col 4: Payment -->
        <div>
          <h4 class="text-lg font-bold mb-4">Thanh Toán</h4>
          <div class="flex gap-2 text-2xl text-green-200">
            <i class="fab fa-cc-visa"></i>
            <i class="fab fa-cc-mastercard"></i>
            <i class="fas fa-money-bill-wave"></i>
          </div>
        </div>
      </div>

      <div class="border-t border-green-800 pt-8 text-center text-sm text-green-200">
        <p>© 2024 Mountain Harvest. Designed for E-commerce.</p>
      </div>
    </div>
  </footer>

  <script>
    // Sticky Navbar Effect
    window.addEventListener('scroll', function () {
      const navbar = document.getElementById('navbar');
      if (window.scrollY > 50) {
        navbar.classList.add('shadow-lg');
        navbar.classList.add('py-0');
      } else {
        navbar.classList.remove('shadow-lg');
        navbar.classList.remove('py-0');
      }
    });
  </script>

  <!-- PRODUCT DETAIL MODAL -->
  <div id="product-modal" class="fixed inset-0 z-[100] hidden">
    <!-- Backdrop -->
    <div class="absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity"></div>

    <!-- Modal Content -->
    <div class="absolute inset-0 flex items-center justify-center p-4">
      <div class="bg-white rounded-2xl shadow-2xl w-full max-w-4xl p-6 md:p-8 relative animate-bounce"
        style="animation: none;"> <!-- Removed bounce for smooth entry if handled by JS, or keep generic fade -->
        <button onclick="closeModal()"
          class="absolute top-4 right-4 text-gray-400 hover:text-gray-600 text-2xl z-10">&times;</button>
        <div id="modal-content">
          <!-- Dynamic Content -->
        </div>
      </div>
    </div>
  </div>

  <script>
    /**
     * Mountain Harvest - Frontend Logic
     */

    // --- i18n Translations ---
    const translations = {
      en: {
        topbar: {
          freeShipping: '<i class="fas fa-truck mr-2"></i>Free shipping for orders over 500k',
          hotline: 'Hotline: 1900 1234',
          support: 'Customer Support'
        },
        nav: {
          account: 'Account',
          cart: 'Cart',
          fresh: 'Fresh',
          dry: 'Dry Food',
          beverage: 'Beverages',
          cosmetics: 'Cosmetics'
        },
        search: {
          placeholder: 'Search products...',
          all: 'All',
          agricultural: 'Agricultural Products',
          essentials: 'Essentials',
          button: 'Search'
        },
        cart: {
          title: 'Your Cart',
          loading: 'Loading...',
          empty: 'Cart is empty',
          total: 'Total:',
          checkout: 'Checkout Now'
        },
        hero: {
          promo: 'Summer Sale',
          title: 'Fresh Produce <br> For Green Living',
          subtitle: 'Up to 20% off on vegetables and fruits this week.',
          button: 'Shop Now'
        },
        filter: {
          title: 'Product Filters'
        },
        products: {
          featured: 'Featured Products',
          subtitle: 'Best selection from Mountain Harvest farm',
          viewAll: 'View All'
        },
        category: {
          fresh: {
            title: 'Fresh Produce',
            desc: 'Harvested from Da Lat farms, delivered same day to ensure freshness.',
            button: 'Shop Now'
          },
          essentials: {
            title: 'Green Essentials',
            desc: 'Natural home care products, safe for children.',
            button: 'Explore'
          }
        },
        news: {
          sectionTitle: 'News',
          sectionSubtitle: 'Latest updates from Mountain Harvest'
        },
        news: {
          sectionTitle: 'Tin tức / News',
          sectionSubtitle: 'Cập nhật mới nhất từ Mountain Harvest'
        },
        newsletter: {
          title: 'Subscribe to Promotions',
          subtitle: 'Get 10% off your first order and updates on fresh produce.',
          placeholder: 'Enter your email...',
          button: 'Subscribe'
        },
        toast: {
          addedToCart: 'Added to cart'
        }
      },
      vi: {
        topbar: {
          freeShipping: '<i class="fas fa-truck mr-2"></i>Miễn phí vận chuyển cho đơn hàng từ 500k',
          hotline: 'Hotline: 1900 1234',
          support: 'Hỗ trợ khách hàng'
        },
        nav: {
          account: 'Tài khoản',
          cart: 'Giỏ hàng',
          fresh: 'Tươi sống',
          dry: 'Thực phẩm khô',
          beverage: 'Đồ uống',
          cosmetics: 'Hoá mỹ phẩm'
        },
        search: {
          placeholder: 'Tìm sản phẩm (vd: Cà chua, Gạo, Nước giặt...)',
          all: 'Tất cả',
          agricultural: 'Nông sản',
          essentials: 'Nhu yếu phẩm',
          button: 'Tìm'
        },
        cart: {
          title: 'Giỏ hàng của bạn',
          loading: 'Đang tải...',
          empty: 'Giỏ hàng trống',
          total: 'Tổng cộng:',
          checkout: 'Thanh toán ngay'
        },
        hero: {
          promo: 'Khuyến mãi mùa hè',
          title: 'Nông Sản Sạch <br> Cho Cuộc Sống Xanh',
          subtitle: 'Giảm giá đến 20% cho các đơn hàng Rau củ quả trong tuần này.',
          button: 'Mua Ngay'
        },
        filter: {
          title: 'Bộ lọc sản phẩm'
        },
        products: {
          featured: 'Sản Phẩm Nổi Bật',
          subtitle: 'Lựa chọn tốt nhất từ nông trại Mountain Harvest',
          viewAll: 'Xem tất cả'
        },
        category: {
          fresh: {
            title: 'Nông Sản Tươi',
            desc: 'Thu hoạch từ nông trại Đà Lạt, vận chuyển trong ngày để đảm bảo độ tươi ngon.',
            button: 'Mua ngay'
          },
          essentials: {
            title: 'Nhu Yếu Phẩm Xanh',
            desc: 'Sản phẩm chăm sóc nhà cửa từ thiên nhiên, an toàn cho cả trẻ nhỏ.',
            button: 'Khám phá'
          }
        },
        newsletter: {
          title: 'Đăng Ký Nhận Tin Khuyến Mãi',
          subtitle: 'Nhận mã giảm giá 10% cho đơn hàng đầu tiên và cập nhật tin tức về nông sản sạch.',
          placeholder: 'Nhập địa chỉ email của bạn...',
          button: 'Đăng ký'
        },
        toast: {
          addedToCart: 'Đã thêm vào giỏ hàng'
        }
      }
    };

    // --- Language Management ---
    let currentLang = localStorage.getItem('language') || 'en';

    function changeLanguage(lang) {
      currentLang = lang;
      localStorage.setItem('language', lang);
      applyLanguage();
      updateLanguageButtons();
    }

    function applyLanguage() {
      const t = translations[currentLang];
      
      // Update all elements with data-i18n attribute
      document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        const keys = key.split('.');
        let value = t;
        for (const k of keys) {
          value = value[k];
        }
        if (value) {
          el.innerHTML = value;
        }
      });

      // Update placeholders
      document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
        const key = el.getAttribute('data-i18n-placeholder');
        const keys = key.split('.');
        let value = t;
        for (const k of keys) {
          value = value[k];
        }
        if (value) {
          el.placeholder = value;
        }
      });

      // Update select options
      document.querySelectorAll('select option[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        const keys = key.split('.');
        let value = t;
        for (const k of keys) {
          value = value[k];
        }
        if (value) {
          el.textContent = value;
        }
      });
    }

    function updateLanguageButtons() {
      const enBtn = document.getElementById('lang-en');
      const viBtn = document.getElementById('lang-vi');
      if (enBtn && viBtn) {
        if (currentLang === 'en') {
          enBtn.classList.add('bg-white/20', 'font-bold');
          enBtn.classList.remove('font-medium');
          viBtn.classList.remove('bg-white/20', 'font-bold');
        } else {
          viBtn.classList.add('bg-white/20', 'font-bold');
          enBtn.classList.remove('bg-white/20', 'font-bold');
          enBtn.classList.add('font-medium');
        }
      }
    }

    const PRODUCTS_PER_PAGE = 8;
    const NEWS_PER_PAGE = 6;
    let products = [];
    let productsPage = 1, productsTotal = 0, productsTotalPages = 0;
    let newsData = [];
    let newsPage = 1, newsTotal = 0, newsTotalPages = 0;

    function getFilterState() {
      return {
        category: (document.getElementById('filter-category') && document.getElementById('filter-category').value) || '',
        price: (document.getElementById('filter-price') && document.getElementById('filter-price').value) || '',
        standard: (document.getElementById('filter-standard') && document.getElementById('filter-standard').value) || '',
        sort: (document.getElementById('filter-sort') && document.getElementById('filter-sort').value) || 'newest',
      };
    }

    function buildProductsUrl(page) {
      const f = getFilterState();
      const params = new URLSearchParams({ page: String(page), limit: String(PRODUCTS_PER_PAGE), sort: f.sort });
      if (f.category) params.set('category', f.category);
      if (f.price) params.set('price', f.price);
      if (f.standard) params.set('standard', f.standard);
      return '/api/products?' + params.toString();
    }

    async function loadProducts(page) {
      try {
        const res = await fetch(buildProductsUrl(page));
        const data = res.ok ? await res.json() : {};
        products = Array.isArray(data.items) ? data.items : [];
        productsTotal = typeof data.total === 'number' ? data.total : products.length;
        productsPage = typeof data.page === 'number' ? data.page : 1;
        const limit = typeof data.limit === 'number' ? data.limit : PRODUCTS_PER_PAGE;
        productsTotalPages = typeof data.totalPages === 'number' ? data.totalPages : Math.max(1, Math.ceil(productsTotal / limit));
      } catch (e) {
        console.warn('Products API failed', e);
        products = [];
        productsTotal = 0;
        productsPage = 1;
        productsTotalPages = 1;
      }
      renderProducts();
      renderProductPagination();
      renderActiveFilters();
    }

    function renderProductPagination() {
      const el = document.getElementById('product-pagination');
      if (!el) return;
      if (productsTotalPages <= 1) {
        el.innerHTML = '';
        return;
      }
      let html = '<a href="#" data-page="prev" class="inline-flex items-center justify-center w-9 h-9 border border-gray-300 rounded-lg hover:bg-gray-100 text-gray-700' + (productsPage <= 1 ? ' opacity-50 pointer-events-none' : '') + '"><i class="fas fa-chevron-left"></i></a>';
      for (let p = 1; p <= productsTotalPages; p++) {
        const active = p === productsPage ? ' bg-brand-green text-white border-brand-green' : ' border-gray-300 hover:bg-gray-100 text-gray-700';
        html += '<a href="#" data-page="' + p + '" class="inline-flex items-center justify-center w-9 h-9 border rounded-lg' + active + '">' + p + '</a>';
      }
      html += '<a href="#" data-page="next" class="inline-flex items-center justify-center w-9 h-9 border border-gray-300 rounded-lg hover:bg-gray-100 text-gray-700' + (productsPage >= productsTotalPages ? ' opacity-50 pointer-events-none' : '') + '"><i class="fas fa-chevron-right"></i></a>';
      el.innerHTML = html;
      el.querySelectorAll('a[data-page]').forEach(function (a) {
        a.addEventListener('click', function (e) {
          e.preventDefault();
          const v = a.getAttribute('data-page');
          if (v === 'prev') loadProducts(productsPage - 1);
          else if (v === 'next') loadProducts(productsPage + 1);
          else loadProducts(parseInt(v, 10));
        });
      });
    }

    function renderActiveFilters() {
      const f = getFilterState();
      const tags = [];
      if (f.category) tags.push({ label: f.category, key: 'category' });
      if (f.price) tags.push({ label: f.price === 'under50' ? 'Dưới 50k' : f.price === '50-200' ? '50k-200k' : 'Trên 200k', key: 'price' });
      if (f.standard) tags.push({ label: f.standard, key: 'standard' });
      const container = document.getElementById('active-filters');
      const tagsEl = document.getElementById('active-filters-tags');
      if (!container || !tagsEl) return;
      if (tags.length === 0) {
        container.classList.add('hidden');
        return;
      }
      container.classList.remove('hidden');
      tagsEl.innerHTML = tags.map(function (t) {
        return '<span class="bg-green-100 text-brand-green px-3 py-1 rounded-full flex items-center gap-1 cursor-pointer hover:bg-green-200" data-clear="' + t.key + '">' + t.label + ' <i class="fas fa-times text-xs"></i></span>';
      }).join('');
      tagsEl.querySelectorAll('[data-clear]').forEach(function (span) {
        span.addEventListener('click', function () {
          const key = span.getAttribute('data-clear');
          const sel = document.getElementById('filter-' + key);
          if (sel) { sel.value = ''; loadProducts(1); }
        });
      });
    }

    function clearAllFilters() {
      ['filter-category', 'filter-price', 'filter-standard'].forEach(function (id) {
        const el = document.getElementById(id);
        if (el) el.value = '';
      });
      loadProducts(1);
    }

    async function loadNews(page) {
      page = page || 1;
      try {
        const res = await fetch('/api/news?page=' + page + '&limit=' + NEWS_PER_PAGE);
        const data = res.ok ? await res.json() : {};
        newsData = Array.isArray(data.items) ? data.items : [];
        newsTotal = typeof data.total === 'number' ? data.total : newsData.length;
        newsPage = typeof data.page === 'number' ? data.page : 1;
        const limit = typeof data.limit === 'number' ? data.limit : NEWS_PER_PAGE;
        newsTotalPages = typeof data.totalPages === 'number' ? data.totalPages : Math.max(1, Math.ceil(newsTotal / limit));
      } catch (e) {
        console.warn('News API failed', e);
        newsData = [];
        newsTotal = 0;
        newsPage = 1;
        newsTotalPages = 1;
      }
      renderNews();
      renderNewsPagination();
    }

    function renderNewsPagination() {
      const el = document.getElementById('news-pagination');
      if (!el) return;
      if (newsTotalPages <= 1) {
        el.innerHTML = '';
        return;
      }
      let html = '<a href="#" data-page="prev" class="inline-flex items-center justify-center w-9 h-9 border border-gray-300 rounded-lg hover:bg-gray-100 text-gray-700' + (newsPage <= 1 ? ' opacity-50 pointer-events-none' : '') + '"><i class="fas fa-chevron-left"></i></a>';
      for (let p = 1; p <= newsTotalPages; p++) {
        const active = p === newsPage ? ' bg-brand-green text-white border-brand-green' : ' border-gray-300 hover:bg-gray-100 text-gray-700';
        html += '<a href="#" data-page="' + p + '" class="inline-flex items-center justify-center w-9 h-9 border rounded-lg' + active + '">' + p + '</a>';
      }
      html += '<a href="#" data-page="next" class="inline-flex items-center justify-center w-9 h-9 border border-gray-300 rounded-lg hover:bg-gray-100 text-gray-700' + (newsPage >= newsTotalPages ? ' opacity-50 pointer-events-none' : '') + '"><i class="fas fa-chevron-right"></i></a>';
      el.innerHTML = html;
      el.querySelectorAll('a[data-page]').forEach(function (a) {
        a.addEventListener('click', function (e) {
          e.preventDefault();
          const v = a.getAttribute('data-page');
          if (v === 'prev') loadNews(newsPage - 1);
          else if (v === 'next') loadNews(newsPage + 1);
          else loadNews(parseInt(v, 10));
        });
      });
    }

    async function loadData() {
      await Promise.all([loadProducts(1), loadNews(1)]);
    }

    // --- State Management ---
    let cart = JSON.parse(localStorage.getItem('cart')) || [];

    // --- Functions ---

    function saveCart() {
      localStorage.setItem('cart', JSON.stringify(cart));
      renderCart();
    }

    function addToCart(productId) {
      const product = products.find(p => p.id === productId);
      if (!product) return;

      const existingItem = cart.find(item => item.id === productId);
      if (existingItem) {
        existingItem.quantity += 1;
      } else {
        cart.push({ ...product, quantity: 1 });
      }

      saveCart();
      const t = translations[currentLang];
      showToast(`${t.toast.addedToCart}: "${product.name}"`);
    }

    function removeFromCart(productId) {
      cart = cart.filter(item => item.id !== productId);
      saveCart();
    }

    function formatCurrency(amount) {
      return new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(amount);
    }

    // --- Rendering ---

    function renderProducts() {
      const container = document.getElementById('product-list');
      if (!container) return;
      const list = Array.isArray(products) ? products : [];
      const tags = (p) => Array.isArray(p.tags) ? p.tags : [];

      container.innerHTML = list.map(product => `
        <div class="bg-white rounded-xl shadow-sm hover:shadow-xl transition duration-300 group overflow-hidden border border-gray-100">
            <div class="relative h-64 overflow-hidden">
                ${product.discount ? `<span class="absolute top-3 left-3 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded z-10">${product.discount}</span>` : ''}
                ${tags(product).map(tag => {
        let colorClass = 'bg-blue-100 text-blue-600';
        if (tag === 'Best Seller') colorClass = 'bg-brand-orange text-white';
        if (tag === 'Organic') colorClass = 'bg-green-100 text-brand-green';
        return `<span class="absolute top-3 right-3 ${colorClass} text-xs font-bold px-2 py-1 rounded z-10 mr-1">${tag}</span>`;
      }).join('')}
                
                <img src="${product.image}" class="w-full h-full object-cover transform group-hover:scale-110 transition duration-500">
                
                <div class="absolute bottom-0 left-0 right-0 bg-white/90 p-2 translate-y-full group-hover:translate-y-0 transition duration-300 flex justify-center gap-2 backdrop-blur-sm">
                    <button class="p-2 rounded-full bg-gray-100 hover:bg-brand-green hover:text-white transition" title="Xem nhanh" onclick="openProductModal(${product.id})">
                        <i class="fas fa-eye"></i>
                    </button>
                </div>
            </div>
            <div class="p-4">
                <div class="text-xs text-gray-500 mb-1">${product.category}</div>
                <h3 class="font-bold text-lg text-gray-800 hover:text-brand-green cursor-pointer truncate" onclick="openProductModal(${product.id})">${product.name}</h3>
                <div class="flex items-center my-2">
                    <div class="flex text-yellow-400 text-xs">
                        ${Array(5).fill(0).map((_, i) =>
        i < Math.floor(product.rating) ? '<i class="fas fa-star"></i>' :
          (i < product.rating ? '<i class="fas fa-star-half-alt"></i>' : '<i class="far fa-star"></i>')
      ).join('')}
                    </div>
                    <span class="text-xs text-gray-400 ml-2">(${product.reviews} đánh giá)</span>
                </div>
                <div class="flex justify-between items-center mt-3">
                    <div>
                        <span class="text-lg font-bold text-brand-green">${formatCurrency(product.price)}</span>
                        ${product.originalPrice ? `<span class="text-sm text-gray-400 line-through ml-2">${formatCurrency(product.originalPrice)}</span>` : ''}
                        ${product.unit ? `<span class="text-xs text-gray-500">${product.unit}</span>` : ''}
                    </div>
                    <button onclick="addToCart(${product.id})" class="bg-brand-green text-white p-2 rounded-lg hover:bg-brand-darkGreen transition shadow-lg shadow-green-200">
                        <i class="fas fa-cart-plus"></i>
                    </button>
                </div>
            </div>
        </div>
    `).join('');
    }

    function renderNews() {
      const container = document.getElementById('news-list');
      if (!container) return;
      const list = Array.isArray(newsData) ? newsData : [];

      container.innerHTML = list.map(news => `
        <div class="bg-white rounded-xl overflow-hidden shadow-sm hover:shadow-lg transition">
            <div class="h-48 overflow-hidden">
                <img src="${news.image}" class="w-full h-full object-cover transform hover:scale-105 transition duration-500">
            </div>
            <div class="p-6">
                <span class="text-xs text-gray-400 mb-2 block"><i class="far fa-calendar-alt mr-1"></i> ${news.date}</span>
                <h3 class="font-bold text-lg mb-2 hover:text-brand-green cursor-pointer">${news.title}</h3>
                <p class="text-gray-600 text-sm mb-4 line-clamp-3">${news.summary}</p>
                <button class="text-brand-green font-bold text-sm hover:underline">Đọc tiếp <i class="fas fa-arrow-right text-xs"></i></button>
            </div>
        </div>
    `).join('');
    }

    function renderCart() {
      const cartCount = document.getElementById('cart-count');
      const cartItems = document.getElementById('cart-items');
      const cartTotal = document.getElementById('cart-total');

      // Update Badge
      const totalQty = cart.reduce((sum, item) => sum + item.quantity, 0);
      if (cartCount) cartCount.innerText = totalQty;
      if (cartCount) cartCount.classList.toggle('hidden', totalQty === 0);

      // Update Mini Cart Items
      if (cartItems) {
        if (cart.length === 0) {
          cartItems.innerHTML = `<div class="text-center text-gray-500 py-4 text-sm">${translations[currentLang].cart.empty}</div>`;
        } else {
          cartItems.innerHTML = cart.map(item => `
                <div class="flex gap-2 group relative">
                    <img src="${item.image}" class="w-12 h-12 object-cover rounded">
                    <div class="flex-1">
                        <div class="text-xs font-bold truncate">${item.name}</div>
                        <div class="text-xs text-gray-500">${item.quantity} x ${formatCurrency(item.price)}</div>
                    </div>
                     <button onclick="removeFromCart(${item.id})" class="text-gray-400 hover:text-red-500 absolute right-0 top-1">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            `).join('');
        }
      }

      // Update Total
      if (cartTotal) {
        const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
        cartTotal.innerText = formatCurrency(total);
      }
    }

    // --- Modal Logic ---

    function openProductModal(id) {
      const product = products.find(p => p.id === id);
      if (!product) return;

      const modal = document.getElementById('product-modal');
      const content = document.getElementById('modal-content');

      // Populate Modal Content
      content.innerHTML = `
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <div class="h-64 md:h-full rounded-lg overflow-hidden">
                <img src="${product.image}" class="w-full h-full object-cover">
            </div>
            <div>
                <span class="text-sm text-brand-green font-bold bg-green-100 px-2 py-1 rounded-full">${product.category}</span>
                <h2 class="text-2xl font-bold text-gray-800 mt-2 mb-2 font-serif">${product.name}</h2>
                <div class="flex items-center mb-4">
                    <div class="flex text-yellow-400 text-sm">
                        ${Array(5).fill(0).map((_, i) =>
        i < Math.floor(product.rating) ? '<i class="fas fa-star"></i>' :
          (i < product.rating ? '<i class="fas fa-star-half-alt"></i>' : '<i class="far fa-star"></i>')
      ).join('')}
                    </div>
                    <span class="text-sm text-gray-500 ml-2">(${product.reviews} đánh giá)</span>
                </div>
                
                <div class="text-3xl font-bold text-brand-green mb-4">
                    ${formatCurrency(product.price)}
                    ${product.unit ? `<span class="text-base font-normal text-gray-500">${product.unit}</span>` : ''}
                </div>
                
                <p class="text-gray-600 mb-6 leading-relaxed">${product.description}</p>
                
                <div class="flex gap-4">
                     <div class="inline-flex items-center border border-gray-300 rounded-lg">
                        <button class="px-3 py-2 hover:bg-gray-100 text-gray-600 font-bold">-</button>
                        <input type="text" value="1" class="w-12 text-center border-none focus:ring-0 text-sm font-bold">
                        <button class="px-3 py-2 hover:bg-gray-100 text-gray-600 font-bold">+</button>
                    </div>
                    <button onclick="addToCart(${product.id}); closeModal()" class="flex-1 bg-brand-green text-white py-2 rounded-lg font-bold hover:bg-brand-darkGreen transition shadow-lg shadow-green-200">
                        Thêm vào giỏ
                    </button>
                    <button class="p-3 border border-gray-300 rounded-lg text-gray-500 hover:text-red-500 hover:border-red-500 transition">
                        <i class="far fa-heart"></i>
                    </button>
                </div>
            </div>
        </div>
    `;

      modal.classList.remove('hidden');
      // Prevent body scroll
      document.body.style.overflow = 'hidden';
    }

    function closeModal() {
      const modal = document.getElementById('product-modal');
      modal.classList.add('hidden');
      document.body.style.overflow = '';
    }

    // --- Toast Notification ---
    function showToast(message) {
      // Check if toast container exists, if not create it
      let toastContainer = document.getElementById('toast-container');
      if (!toastContainer) {
        toastContainer = document.createElement('div');
        toastContainer.id = 'toast-container';
        toastContainer.className = 'fixed bottom-4 right-4 z-50 flex flex-col gap-2 pointer-events-none';
        document.body.appendChild(toastContainer);
      }

      const toast = document.createElement('div');
      toast.className = 'bg-gray-900 text-white px-6 py-3 rounded-lg shadow-lg flex items-center gap-3 transform translate-y-10 opacity-0 transition-all duration-300';
      toast.innerHTML = `<i class="fas fa-check-circle text-brand-light"></i> <span>${message}</span>`;

      toastContainer.appendChild(toast);

      // Animate in
      requestAnimationFrame(() => {
        toast.classList.remove('translate-y-10', 'opacity-0');
      });

      // Remove after 3s
      setTimeout(() => {
        toast.classList.add('translate-y-10', 'opacity-0');
        setTimeout(() => {
          toast.remove();
        }, 300);
      }, 3000);
    }

    // --- Init ---
    document.addEventListener('DOMContentLoaded', () => {
      applyLanguage();
      updateLanguageButtons();
      loadData();
      renderCart();
      ['filter-category', 'filter-price', 'filter-standard', 'filter-sort'].forEach(function (id) {
        const el = document.getElementById(id);
        if (el) el.addEventListener('change', function () { loadProducts(1); });
      });
      const clearBtn = document.getElementById('clear-filters');
      if (clearBtn) clearBtn.addEventListener('click', function (e) { e.preventDefault(); clearAllFilters(); });

      // Modal Close Event (Click outside)
      const modal = document.getElementById('product-modal');
      modal.addEventListener('click', (e) => {
        if (e.target === modal) closeModal();
      });
    });
  </script>
</body>

</html>